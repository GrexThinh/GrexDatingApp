<div class="row g-5">
  <div class="col-3">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h5>Your groups</h5>
      <button class="btn btn-primary btn-sm" routerLink="/groups/create">
        Create group
      </button>
    </div>
    @for (group of groupService.paginatedResult()?.items; track group.id) { @if
    (group.currentUserStatus === groupStatus.Waiting || group.currentUserStatus
    === groupStatus.Joined ) {
    <app-group-card-home [group]="group"></app-group-card-home>
    } }
  </div>
  <div class="col-6">
    <app-post-create
      [groupId]="undefined"
      [currentUser]="accountService.currentUser()"
      (createdPost)="onCreatedPost($event)"
    ></app-post-create>
    <div class="mt-3">
      <app-post-list
        [createdPost]="createdPost"
        [groupId]="undefined"
      ></app-post-list>
    </div>
  </div>
  <div class="col-3">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h5>Events</h5>
      <button class="btn btn-primary btn-sm" (click)="handleCreateEvent()">
        Create event
      </button>
    </div>
    @for (event of eventService.paginatedResult()?.items; track event.id) {
    <app-event-card [event]="event" [isDetailList]="false"></app-event-card>
    }
  </div>
</div>
<div class="position-fixed bottom-0 end-0">
  <div class="card" style="width: 300px">
    <div
      class="card-header d-flex align-items-center justify-content-between bg-success text-light"
      type="button"
      (click)="toggleMessage()"
    >
      <div>Messages (4)</div>
      <div><i class="fa fa-heart"></i></div>
    </div>
    @if(isOpenMessage) {
    <div class="card-body">
      <div class="d-flex gap-3">
        <div>Users</div>
        <div></div>
      </div>
      <hr />
      @for (member of likesService.paginatedResult()?.items; track member.id) {
    
        <div class="d-flex gap-2 align-items-center py-2" type="button">
          <img
            src="{{ member?.photoUrl ?? './assets/user.png' }}"
            alt=""
            class="user-img"
          />
          <div>{{ member.knownAs }}</div>
          <div [class.is-online]="isOnline(member.userName)">
            <i class="fa fa-dot"></i>
          </div>
        </div>

      }
      <div class="d-flex gap-3 mt-3">
        <div>Groups</div>
        <div></div>
      </div>
      <hr />
      <div class="d-flex gap-3">
        <div>Name</div>
        <div></div>
      </div>
      <div class="d-flex gap-3">
        <div>Name</div>
        <div></div>
      </div>
    </div>
    }
  </div>
</div>
